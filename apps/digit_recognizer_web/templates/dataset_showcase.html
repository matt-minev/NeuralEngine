<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Dataset Showcase - NeuralEngine</title>

    <!-- main styles -->
    <link rel="stylesheet" href="static/css/showcase.css" />

    <!-- google fonts for better typography -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

    <!-- using svg as favicon, quick and easy -->
    <link
      rel="icon"
      type="image/svg+xml"
      href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>‚ú®</text></svg>"
    />

    <!-- inter font looks clean -->
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />

    <!-- d3.js needed for the network graph visualization -->
    <script src="https://d3js.org/d3.v7.min.js"></script>
  </head>

  <body>
    <!-- animated background with floating shapes -->
    <div class="animated-background">
      <div class="floating-shapes">
        <div class="shape shape-1"></div>
        <div class="shape shape-2"></div>
        <div class="shape shape-3"></div>
        <div class="shape shape-4"></div>
        <div class="shape shape-5"></div>
      </div>
    </div>

    <div class="showcase-container">
      <!-- main header section -->
      <header class="showcase-header">
        <div class="header-content">
          <h1 class="showcase-title">NeuralEngine Dataset Showcase</h1>
          <p class="showcase-subtitle">
            Explore real-time neural network predictions on dataset samples
          </p>
        </div>

        <!-- controls in the header -->
        <div class="header-controls">
          <!-- toggle for switching between real and synthetic data -->
          <div class="data-source-toggle">
            <label class="toggle-label">
              <span class="toggle-text">Real Data</span>
              <div class="toggle-switch">
                <input
                  type="checkbox"
                  id="dataSourceToggle"
                  aria-label="Toggle between real and synthetic data"
                />
                <span class="slider"></span>
              </div>
              <span class="toggle-text">Synthetic</span>
            </label>
          </div>

          <!-- back button to go to drawing mode -->
          <button
            id="backToDrawBtn"
            class="btn btn-secondary"
            aria-label="Back to drawing mode"
          >
            <span class="btn-icon">‚úèÔ∏è</span>
            Drawing Mode
          </button>
        </div>
      </header>

      <main class="showcase-main">
        <!-- section where we display the current sample -->
        <section class="sample-section">
          <div class="sample-container">
            <!-- canvas for drawing the digit sample -->
            <div class="sample-image-wrapper">
              <canvas
                id="sampleCanvas"
                width="280"
                height="280"
                aria-label="Dataset sample digit"
                title="Click to load next sample"
              ></canvas>

              <!-- loading overlay shows while fetching data -->
              <div class="sample-overlay loading" id="sampleOverlay">
                <div class="loading-spinner"></div>
                <p>Loading sample...</p>
              </div>

              <!-- hint to tell users they can click -->
              <div class="click-hint" id="clickHint">
                <span>Click to load next sample</span>
              </div>
            </div>

            <!-- prediction results display -->
            <div class="prediction-display">
              <div
                class="predicted-digit"
                id="predictedDigit"
                aria-live="polite"
              >
                -
              </div>

              <!-- shows confidence and actual label -->
              <div class="prediction-details">
                <div class="confidence-display">
                  <span class="confidence-label">Confidence</span>
                  <span class="confidence-value" id="confidenceValue">--%</span>
                </div>
                <div class="actual-label-display">
                  <span class="actual-label">Actual</span>
                  <span class="actual-value" id="actualValue">-</span>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- controls for loading samples and switching models -->
        <section class="sample-controls-section">
          <div class="controls-container">
            <!-- main button to load next sample -->
            <button
              id="nextSampleBtn"
              class="btn btn-primary btn-large"
              aria-label="Load next sample"
            >
              <span class="btn-icon">üîÑ</span>
              Next Sample
            </button>

            <!-- stats and model selector -->
            <div class="sample-stats">
              <!-- counter showing which sample we're on -->
              <div class="sample-counter">
                <span class="counter-label">Sample</span>
                <span class="counter-value" id="sampleCounter">1</span>
              </div>

              <!-- display model accuracy -->
              <div class="accuracy-display">
                <span class="accuracy-label">Model Accuracy</span>
                <span class="accuracy-value" id="modelAccuracy">--%</span>
              </div>

              <!-- dropdown to select different models -->
              <div class="model-selector-container">
                <label class="model-selector-label">Neural Model</label>
                <div class="model-selector-wrapper">
                  <select
                    id="modelSelector"
                    class="model-selector"
                    aria-label="Select neural network model"
                  >
                    <!-- available model options -->
                    <option value="enhanced_digit_model.pkl">
                      Enhanced Model
                    </option>
                    <option value="digit_model.pkl">Basic Model</option>
                    <option value="digit_model_optimized.pkl">
                      Optimized Model
                    </option>
                    <option value="digit_model_bullterproof.pkl">
                      Advanced Model
                    </option>
                  </select>

                  <!-- dropdown arrow icon -->
                  <div class="model-selector-icon">
                    <svg width="12" height="8" viewBox="0 0 12 8" fill="none">
                      <path
                        d="M1 1L6 6L11 1"
                        stroke="currentColor"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </section>

        <!-- neural network visualization using d3.js -->
        <section class="network-section">
          <div class="network-container">
            <div class="network-header">
              <h2>Advanced Neural Network Visualization</h2>

              <!-- controls for the network animation -->
              <div class="network-controls">
                <button
                  id="playAnimationBtn"
                  class="btn btn-primary"
                  aria-label="Play animation"
                >
                  <span class="btn-icon">‚ñ∂Ô∏è</span>
                  Play Animation
                </button>

                <!-- reset button to clear the network -->
                <button
                  id="resetNetworkBtn"
                  class="btn btn-secondary"
                  aria-label="Reset network"
                >
                  <span class="btn-icon">üîÑ</span>
                  Reset
                </button>

                <!-- speed selector for animation -->
                <div class="speed-control">
                  <label for="animationSpeed">Speed:</label>
                  <select id="animationSpeed">
                    <option value="3000">Slow</option>
                    <option value="2000" selected>Normal</option>
                    <option value="1000">Fast</option>
                    <option value="500">Very Fast</option>
                  </select>
                </div>
              </div>
            </div>

            <!-- container where d3 renders the network graph -->
            <div class="network-visualization" id="advancedNetworkContainer">
              <!-- network visualization gets rendered here by js -->
            </div>

            <!-- info panel with instructions -->
            <div class="network-info-panel">
              <div class="info-item">
                <span class="info-label">Click neurons</span>
                <span class="info-value">to explore connections</span>
              </div>
              <div class="info-item">
                <span class="info-label">Drag neurons</span>
                <span class="info-value">to reposition</span>
              </div>
              <div class="info-item">
                <span class="info-label">Scroll</span>
                <span class="info-value">to zoom in/out</span>
              </div>
            </div>
          </div>
        </section>
      </main>

      <!-- footer with branding -->
      <footer class="floating-footer">
        <div class="footer-content">
          <div class="footer-brand">
            <span class="brand-icon">üß†</span>
            <span class="brand-text">Digit Recognizer</span>
          </div>
          <div class="footer-info">
            <span class="info-text">Powered by Neural Engine.</span>
            <span class="version-text">v2.0</span>
          </div>
        </div>
        <div class="footer-glow"></div>
      </footer>

      <!-- modal for showing model details -->
      <div class="modal-overlay" id="modelInfoModal" aria-hidden="true">
        <div class="modal-content" role="dialog" aria-labelledby="modalTitle">
          <div class="modal-header">
            <h3 id="modalTitle">Model Information</h3>
            <button
              class="modal-close"
              id="closeModalBtn"
              aria-label="Close modal"
            >
              √ó
            </button>
          </div>

          <!-- modal body gets populated dynamicaly -->
          <div class="modal-body" id="modelInfoContent">
            <!-- content added by javascript -->
          </div>
        </div>
      </div>

      <!-- progress bar for animations -->
      <div class="progress-indicator" id="progressIndicator">
        <div class="progress-bar" id="progressBar"></div>
        <span class="progress-text" id="progressText">Preparing...</span>
      </div>

      <!-- toast notification for model switching -->
      <div class="model-switch-toast" id="modelSwitchToast">
        <div class="toast-content">
          <span class="toast-icon">üîÑ</span>
          <span class="toast-message" id="toastMessage"
            >Switching model...</span
          >
        </div>
      </div>

      <!-- screen reader announcements for accesibility -->
      <div class="sr-only" aria-live="polite" id="announcements"></div>
    </div>

    <!-- load the network visualization script first -->
    <script src="static/js/advanced_neural_graph.js"></script>
    <!-- main showcase logic -->
    <script src="static/js/showcase.js"></script>
  </body>
</html>
